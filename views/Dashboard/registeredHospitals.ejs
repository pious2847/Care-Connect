<!DOCTYPE html>
<html lang="en">

<%- include('./layouts/header') %>

    <body>
    <%- include('../popups/alert') %>

        <div class="container-fluid">
            <div class="row ">

                <%- include('./layouts/sidebar') %>
                    <!-- Mobile Overlay -->
                    <div class="mobile-overlay"></div>
                    <div class="main-content p-3">
                        <%- include('./layouts/topnav') %>


                            <div class="content-wrapper">
                                <div class="col ">   
                                    <div class="welcome  pt-5">
                                        <h4 class="text-primary font-monospace">All Registered Hospitals</h4>
                                        <p class="small">A brief summary of all registered hospitals under Care Cycle</p>
                                    </div>
                                    <div class="tablecontainer table-responsive">
                                        <table class="table table-hover">
                                            <thead class="table-light">
                                                <tr>
                                                    <th scope="col">#</th>
                                                    <th scope="col">Logo</th>
                                                    <th scope="col">Name</th>
                                                    <th scope="col">Email</th>
                                                    <th scope="col">Contact</th>
                                                    <th scope="col">Subscription Status</th>
                                                    <th scope="col">Staffs</th>

                                                </tr>
                                            </thead>
                                            <tbody>
                                                <% if (hospitals && hospitals.length > 0) { %>
                                                    <% hospitals.forEach((hospital, index) => { %>
                                                        <tr>
                                                            <td data-label="#">
                                                                <%= index + 1 %>
                                                            </td>
                                                            <td data-label="Logo">
                                                                <img src="<%= hospital.logo.picture %>" alt="Profile picture" 
                                                                     class="rounded-circle" height="40" width="40">
                                                            </td>
                                                            <td data-label="Name">
                                                                <%= hospital.name %> 
                                                            </td>
                                                            <td data-label="Email">
                                                                <a href="mailto:<%= hospital.email %>"><%= hospital.email %></a>
                                                            </td>
                                                            <td data-label="Contact">
                                                                <a href="tel:+233 <%= hospital.contact %>"><%= hospital.contact %></a>
                                                            </td>

                                                            <td data-label="Status">
                                                                <span class="badge p-2 text-white bg-<%= hospital.subscriptionstatus ? 'success' : 'danger' %>">
                                                                    <%= hospital.subscriptionstatus ? 'Active' : 'Expired' %>
                                                                </span>
                                                            </td>
                                                            <td data-label="Staffs">
                                                                <%= hospital.staffs.length %> 
                                                            </td>
                                                        </tr>
                                                    <% }) %>
                                                <% } else { %>
                                                    <tr>
                                                        <td colspan="10" class="text-center">No hopitals registered under your service </td>
                                                    </tr>
                                                <% } %>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>

                               
                            </div>
                    </div>
            </div>
        </div>


    </body>

</html>